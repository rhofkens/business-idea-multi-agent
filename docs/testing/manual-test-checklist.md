# Manual Test Checklist

This checklist guides through manual testing of the business idea multi-agent system.

## Prerequisites

- [ ] Node.js 18.x or later installed
- [ ] OpenAI API key set in `.env` file
- [ ] All dependencies installed (`npm install`)
- [ ] Workspace packages built (`npm run build` from root)

## Test Scenarios

### Web Application Authentication Tests

#### A. Server Startup and Configuration

- [ ] Start the web server with `npm run start:web`
- [ ] Verify server starts on port 3001
- [ ] Confirm session configuration is loaded correctly
- [ ] Check CORS is enabled for frontend origin (http://localhost:5173)

#### B. Authentication Endpoints

##### Login Endpoint (/api/auth/login)
- [ ] Test valid login with admin@test.com / Adm!nP@ss2024
  - [ ] Returns 200 status
  - [ ] Response includes user object with id, email, role
  - [ ] Session cookie is set (fastify-session)
- [ ] Test valid login with user@test.com / Us3r$ecure#24
- [ ] Test valid login with guest@test.com / Gu3st!Pass@24
- [ ] Test invalid email format
  - [ ] Returns 400 status with validation error
- [ ] Test non-existent user
  - [ ] Returns 401 status with "Invalid credentials"
- [ ] Test incorrect password
  - [ ] Returns 401 status with "Invalid credentials"

##### User Endpoint (/api/auth/user)
- [ ] Test with valid session
  - [ ] Returns 200 status with user data
- [ ] Test without session
  - [ ] Returns 401 status with "Not authenticated"

##### Check Endpoint (/api/auth/check)
- [ ] Test with valid session
  - [ ] Returns { authenticated: true, user: {...} }
- [ ] Test without session
  - [ ] Returns { authenticated: false }

##### Logout Endpoint (/api/auth/logout)
- [ ] Test logout with active session
  - [ ] Returns 200 status with success message
  - [ ] Session is destroyed
  - [ ] Subsequent auth checks return unauthenticated

#### C. Session Management

- [ ] Verify session expires after 30 minutes of inactivity
- [ ] Verify rolling sessions (activity extends expiry)
- [ ] Test concurrent sessions (multiple logins)
- [ ] Verify httpOnly cookie settings

#### D. Frontend Authentication Flow

##### Login Page
- [ ] Navigate to http://localhost:5173/login
- [ ] Verify login form displays correctly
- [ ] Test form validation:
  - [ ] Empty email shows "Email is required"
  - [ ] Invalid email shows "Invalid email address"
  - [ ] Empty password shows "Password is required"
- [ ] Test successful login:
  - [ ] Enter admin@test.com / Adm!nP@ss2024
  - [ ] Click login button
  - [ ] Verify redirect to home page
  - [ ] User info displays correctly

##### Protected Routes
- [ ] Try accessing home page without login
  - [ ] Redirects to login page
- [ ] Login and verify access to protected routes
- [ ] Test role-based access (if implemented)

##### Logout Flow
- [ ] Click logout button
- [ ] Verify redirect to login page
- [ ] Confirm session is cleared
- [ ] Try accessing protected route after logout

#### E. Error Handling and Edge Cases

- [ ] Test server restart with active sessions
- [ ] Test API calls with expired sessions
- [ ] Test network errors during login
- [ ] Test simultaneous login attempts
- [ ] Verify XSS protection on login form

### CLI Application Tests (Original)

### 1. Basic Execution Test

- [ ] Run `npm start`
- [ ] Verify application starts without errors
- [ ] Confirm "Application starting" log entry is created

Expected output:
- 10 business ideas generated by Ideation Agent
- Blue Ocean scores added by Competitor Agent
- Overall scores calculated by Critic Agent
- Markdown report generated in `docs/output/`

### 2. Test Cache Mode

- [ ] Run `npm start -- --test-cache`
- [ ] Verify "Test cache mode enabled" message appears
- [ ] Confirm agents use cached results from `tests/cache/`
- [ ] Verify execution completes much faster than normal mode

### 3. Agent Chain Validation

#### Ideation Agent
- [ ] Generates exactly 10 business ideas
- [ ] Each idea has required fields:
  - [ ] Title
  - [ ] Description
  - [ ] Business model (B2B/B2C/B2B2C/etc.)
  - [ ] Disruption potential score (1-10)
  - [ ] Market potential score (1-10)
  - [ ] Technical complexity score (1-10)
  - [ ] Capital intensity score (1-10)
  - [ ] Reasoning object

#### Competitor Agent
- [ ] Processes all 10 ideas from Ideation Agent
- [ ] Adds Blue Ocean score (1-10) to each idea
- [ ] Adds competitor analysis text to each idea
- [ ] Logs first idea's Blue Ocean score

#### Critic Agent
- [ ] Evaluates all 10 ideas from Competitor Agent
- [ ] Adds risk assessment to each idea
- [ ] Adds critical analysis to each idea
- [ ] Calculates overall score using weighted formula
- [ ] Logs first idea's Overall Score

#### Documentation Agent
- [ ] Generates markdown report in `docs/output/`
- [ ] Report filename includes timestamp
- [ ] Report contains:
  - [ ] Introduction section
  - [ ] All 10 business ideas with full details
  - [ ] Summary section with top 3 ideas
- [ ] Logs report path and processing time

### 4. Error Handling

#### Missing API Key
- [ ] Remove/rename `.env` file
- [ ] Run `npm start`
- [ ] Verify error message: "OpenAI API key is missing"
- [ ] Verify application exits with code 1

#### Network Failure
- [ ] Disconnect internet or use invalid API key
- [ ] Run `npm start`
- [ ] Verify appropriate error messages are logged
- [ ] Verify application exits gracefully

### 5. Output Validation

#### Log Files
- [ ] Check `logs/app.csv` exists
- [ ] Verify CSV format with columns: timestamp, level, message, details
- [ ] Confirm logs capture all major operations

#### Markdown Report
- [ ] Open generated report in `docs/output/`
- [ ] Verify markdown formatting is correct
- [ ] Check all sections are present and complete
- [ ] Confirm top 3 ideas are correctly identified by overall score

### 6. Performance Checks

- [ ] Normal execution completes within reasonable time (~2-5 minutes)
- [ ] Test cache mode completes in seconds
- [ ] No memory leaks or hanging processes

## Acceptance Criteria Verification

- [ ] System generates exactly 10 business ideas
- [ ] Ideas align with specified preferences:
  - Vertical: Media & Entertainment
  - Sub-vertical: Digital Media and Content Creation
  - Business Model: B2B SaaS
- [ ] Blue Ocean scores are realistic (1-10 range)
- [ ] Overall scores use correct weighted formula
- [ ] Final markdown report is comprehensive and well-formatted

## Post-Test Cleanup

- [ ] Remove test output files if needed
- [ ] Clear logs for next test run
- [ ] Restore `.env` file if modified